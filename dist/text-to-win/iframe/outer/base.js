!function($,e,t){function n(){if("object"==typeof console&&console.log){var e=new Date;e=e.toISOString()?e.toISOString():e.toUTCString(),console.log("[CMLS Contesting]",e,[].slice.call(arguments))}}function o(e,t){var n=a.document.createElement("script");n.src=e,n.onload=function(){t()},n.onerror=function(){t(new Error("Failed to load script "+e))},a.document.head.appendChild(n)}function i(){function t(){function e(o,i){var c=$("#"+r,a.document);c.length?o(c):Date.now()-n>=t?i(new Error("timeout")):setTimeout(e.bind(this,o,i),50)}var t=1e4,n=Date.now();return new i(e)}var i=e.Promise;t().then((function(e){e.each((function(){this.contentDocument.title=a.document.title}))})),$((function(){var e=$("#CMLS_TEMPLATE:first",a.document);if(e.length)if(e.is("iframe")){e.parentsUntil(".wrapper-content",".column,.row,.block-type-content").addClass("CMLS_CCC");var t=$("<iframe/>",{id:r,name:r,frameBorder:0,width:"100%",class:"CMLS_CCC_IFRAME",scrolling:!1,allowTransparency:!0,style:"width: 100%"}),i=e.text();if("srcdoc"in document.createElement("iframe"))t[0].srcdoc=i,t.insertBefore(e);else{t.insertBefore(e);var c=t[0].contentDocument;c.open(),c.write(i),c.close()}e.detach();var l=i.indexOf("data-iframe-height")>-1;o("https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/4.3.2/iframeResizer.min.js",(function(){var e=-1!==navigator.userAgent.indexOf("MSIE");l&&n("Template content has tagged element for IFR"),a.iFrameResize({log:!!(a._CMLS&&a._CMLS.debug||a.IFR_DEBUG),checkOrigin:!1,sizeWidth:!1,tolerance:10,minSize:100,heightCalculationMethod:l?"taggedElement":e?"max":"bodyOffset",onInit:function(e){var t=$(e);t.attr("init",!0),t.trigger("cmls-ifr-init"),$(a).trigger("cmls-ifr-init")}},"#"+r)}))}else n("#CMLS_TEMPLATE is not an iframe feature!");else n("No #CMLS_TEMPLATE found, not an iframe feature")}),a.document)}e.self.CMLS_CONTEST={installGoogleAnalytics:function(t){if(t){var o=e.document.createElement("script");o.async="async",o.src="https://www.googletagmanager.com/gtag/js?id="+encodeURIComponent(t),o.onload=function(){function n(){e.dataLayer.push(arguments)}e.dataLayer=e.dataLayer||[],n("js",new Date),n("config",t,{cookie_prefix:"cmls_contest"})},e.document.body.appendChild(o)}else n("No ID provided to installGoogleAnalytics")}};var r="CMLS_CCC_IFRAME",a=e.self;a._CMLS=a._CMLS||{},e.self.Promise?i():o("https://polyfill.io/v3/polyfill.min.js?features=Promise",i)}(window.jQuery,window.self);
//# sourceMappingURL=base.js.map
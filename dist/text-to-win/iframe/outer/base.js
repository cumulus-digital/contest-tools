!function($,e,t){function n(){if("object"==typeof console&&console.log){var e=new Date;e=e.toISOString()?e.toISOString():e.toUTCString(),console.log("[CMLS Contesting]",e,[].slice.call(arguments))}}function o(e,t){var n=r.document.createElement("script");n.src=e,n.onload=function(){t()},n.onerror=function(){t(new Error("Failed to load script "+e))},r.document.head.appendChild(n)}function i(){function t(){function e(o,i){var c=$("#"+a,r.document);c.length?o(c):Date.now()-n>=t?i(new Error("timeout")):setTimeout(e.bind(this,o,i),50)}var t=1e4,n=Date.now();return new i(e)}var i=e.Promise;t().then((function(e){e.each((function(){this.contentDocument.title=r.document.title}))})),$((function(){var e=$("#CMLS_TEMPLATE:first",r.document);if(e.length)if(e.is("iframe")){e.parentsUntil(".wrapper-content",".column,.row,.block-type-content").addClass("CMLS_CCC");var t=$("<iframe/>",{id:a,name:a,frameBorder:0,width:"100%",class:"CMLS_CCC_IFRAME",scrolling:!1,allowTransparency:!0,style:"width: 100%"}),i=e.text();if("srcdoc"in document.createElement("iframe"))t[0].srcdoc=i,t.insertBefore(e);else{t.insertBefore(e);var c=t[0].contentDocument;c.open(),c.write(i),c.close()}e.detach();var s=i.indexOf("data-iframe-height")>-1;o("https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/4.3.2/iframeResizer.min.js",(function(){var e=-1!==navigator.userAgent.indexOf("MSIE");s&&n("Template content has tagged element for IFR"),r.iFrameResize({log:!!(r._CMLS&&r._CMLS.debug||r.IFR_DEBUG),checkOrigin:!1,sizeWidth:!1,tolerance:10,minSize:100,heightCalculationMethod:s?"taggedElement":e?"max":"bodyOffset",onInit:function(e){var t=$(e);t.attr("init",!0),t.trigger("cmls-ifr-init"),$(r).trigger("cmls-ifr-init")}},"#"+a)}))}else n("#CMLS_TEMPLATE is not an iframe feature!");else n("No #CMLS_TEMPLATE found, not an iframe feature")}),r.document)}e.self.CMLS_CONTEST={installGoogleAnalytics:function(t){var n,o,i,a,r,c,s;t&&(n=e,o=document,i="script",a="//www.google-analytics.com/analytics.js",r="ga",n.GoogleAnalyticsObject=r,n.ga=n.ga||function(){(n.ga.q=n.ga.q||[]).push(arguments)},n.ga.l=1*new Date,c=o.createElement(i),s=o.getElementsByTagName(i)[0],c.async=1,c.src=a,s.parentNode.insertBefore(c,s),e.ga("create",t,"auto",{name:"contestTracker"}),e.ga("contestTracker.send","pageview"))}};var a="CMLS_CCC_IFRAME",r=e.self;r._CMLS=r._CMLS||{},e.self.Promise?i():o("https://polyfill.io/v3/polyfill.min.js?features=Promise",i)}(window.jQuery,window.self);
//# sourceMappingURL=base.js.map